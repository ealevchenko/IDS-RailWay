@using WEB_UI.App_LocalResources;
@{
    ViewBag.Title = @DirectoryResource.cars_title;
}

@section styles {
    @Styles.Render("~/DataTables/css")
    <link rel="stylesheet" type="text/css" href="~/Content/view/directory/home.css">
}

@section scripts {
    @Scripts.Render("~/bundles/Moment")
    @Scripts.Render("~/bundles/DataTables")

    <script src="~/Scripts/view/shared/common.js"></script> <!-- Общая библиотека методов программы -->
    <script src="~/Scripts/api/shared.js"></script> <!-- Общая библиотека методов API -->
    <script src="~/Scripts/api/ids_directory.js"></script> <!-- Class API ИДС Справочники -->

    <script src="~/Scripts/plugins/pl_dialog_confirm.js"></script> <!-- Плагин -->

    <script src="~/Scripts/view/directory/cars.js"></script> <!--  -->
}

<input id="username" type="hidden" value="@User.Identity.Name" />

<div class="container-fluid">
    <div class="card border-primary mt-3">
        <!-- Шапка -->
        <div class="card-header bg-warning text-white">
            <button class="btn btn-link text-light text-uppercase" data-toggle="collapse" data-target="#demo">Найти вагоны</button><span id="type-search" class="badge badge-primary"></span>
        </div>
        <!-- Текстовый контент -->
        <div class="card-body collapse" id="demo">
            <ul class="nav nav-tabs">
                <li class="nav-item">
                    <a class="nav-link active" data-toggle="tab" href="#cars-warning">Требующие правки</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#cars-search-num">По номеру</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#cars-search-operator">По оператору</a>
                </li>
            </ul>
            <div class="tab-content p-3">
                <div class="tab-pane fade show active" id="cars-warning">
                    <div class="row mt-2">
                        <div class="col-xl-10">
                            <p>
                                Найти вагоны в справочнике, по которым требуется вмешательство оператора в уточнении характеристик (Вагоны, зашедшие в первый раз, вагоны по которым изменился оператор по данным УЗ)
                            </p>
                        </div>
                        <div class="col-xl-2">
                            <button type="button" class="btn btn-primary">Поиск</button>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fade" id="cars-search-num">
                    <div class="form-row">
                        <div class="col-xl-12">
                            <p>Найти вагон(ы) в справочнике по номеру вагона, если вагона нет в справочнике вагон создается по данным КИС и УЗ.</p>
                        </div>
                    </div>
                    <div class="form-row mt-2">
                        <div class="col-xl-10">
                            <textarea class="form-control" id="num_cars" name="num_cars" rows="2" style="font-size:inherit"></textarea>
                        </div>
                        <div class="col-xl-2">
                            <button type="button" class="btn btn-primary">Поиск</button>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fade" id="cars-search-operator">
                    <div class="form-row">
                        <div class="col-xl-12">
                            <p>Найти вагон(ы) в справочнике по оператору.</p>
                        </div>
                    </div>
                    <div class="form-group row mt-2">
                        <label for="wagon-operator" class="col-xl-5 col-form-label">Оператор:</label>
                        <div class="col-xl-5">
                            <select class="form-control" id="wagon-operator"></select>
                        </div>
                        <div class="col-xl-2">
                            <button type="button" class="btn btn-primary">Поиск</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div><!-- Конец карточки -->

</div>
<div class="alert" id="main-alert"></div>

<div class="container-fluid">
    <div class="row">
        <div class="col-xl-12">
            <div class="card border-dark mb-3">
                <div class="card-header bg-secondary text-white text-uppercase">@DirectoryResource.cars_title</div>
                <div class="card-body text-dark pl-3 pr-3">
                    <table class="table table-striped table-bordered" id="table-directory" style="width:100%"></table>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="dialog-confirm"></div>

<div id="change_group" title="" style="display:none">
    <div class="alert" id="change_group_alert"></div>
    <form id="form-change_group">
        <div class="form-group row" style="margin-bottom:0.5rem">
            <label for="change_group_cargo_group" class="col-sm-5 col-form-label">@DirectoryResource.title_change_group_cargo_group:</label>
            <div class="col-sm-7">
                <select class="form-control" id="change_group_cargo_group" name="change_group_cargo_group" required="required"></select>
                <div class="invalid-feedback">

                </div>
            </div>
        </div>
        <!-- Allow form submission with keyboard without duplicating the dialog button -->
        <input type="submit" tabindex="-1" style="position:absolute; top:-1000px">
    </form>
</div>

<div id="add_edit" title="" style="display:none">
    <div class="alert" id="add_edit_alert"></div>
    <form id="form_add_edit">
        <div class="form-group row" style="margin-bottom:0.5rem">
            <label for="add_edit_cargo_group" class="col-sm-5 col-form-label">@DirectoryResource.title_change_group_cargo_group:</label>
            <div class="col-sm-7">
                <select class="form-control" id="add_edit_cargo_group" name="add_edit_cargo_group" required="required"></select>
                <div class="invalid-feedback">

                </div>
            </div>
        </div>
        <div class="form-group row" style="margin-bottom:0.5rem">
            <label for="add_edit_cargo_etsng" class="col-sm-5 col-form-label">@DirectoryResource.title_add_edit_cargo_etsng:</label>
            <div class="col-sm-7">
                <select class="form-control" id="add_edit_cargo_etsng" name="add_edit_cargo_etsng" required="required"></select>
                <div class="invalid-feedback">

                </div>
            </div>
        </div>
        <div class="form-group row" style="margin-bottom:0.5rem">
            <label for="add_edit_cargo_name_ru" class="col-sm-5 col-form-label">@DirectoryResource.title_add_edit_cargo_name_ru:</label>
            <div class="col-sm-7">
                <textarea class="form-control" id="add_edit_cargo_name_ru" name="add_edit_cargo_name_ru" required="required"></textarea>
                <div class="invalid-feedback">

                </div>
            </div>
        </div>
        <div class="form-group row" style="margin-bottom:0.5rem">
            <label for="add_edit_cargo_name_en" class="col-sm-5 col-form-label">@DirectoryResource.title_add_edit_cargo_name_en:</label>
            <div class="col-sm-7">
                <textarea class="form-control" id="add_edit_cargo_name_en" name="add_edit_cargo_name_en" required="required"></textarea>
                <div class="invalid-feedback">

                </div>
            </div>
        </div>
        <div class="form-group row" style="margin-bottom:0.5rem">
            <label for="add_edit_code_sap" class="col-sm-5 col-form-label">@DirectoryResource.title_add_edit_code_sap:</label>
            <div class="col-sm-7">
                <input type="text" class="form-control" id="add_edit_code_sap" name="add_edit_code_sap">
                <div class="invalid-feedback">

                </div>
            </div>
        </div>
        <div class="form-group row" style="margin-bottom:0.5rem">
            <div class="custom-control custom-checkbox offset-5 col-sm-7">
                @*<input type="checkbox" class="custom-control-input" id="add_edit_sending" required>
                    <label class="custom-control-label" for="add_edit_sending">@DirectoryResource.title_add_edit_sending</label>*@
                <input type="checkbox" class="" id="add_edit_sending" required>
                <label class="" for="add_edit_sending">@DirectoryResource.title_add_edit_sending</label>
                <div class="invalid-feedback">

                </div>
            </div>
        </div>
        <!-- Allow form submission with keyboard without duplicating the dialog button -->
        <input type="submit" tabindex="-1" style="position:absolute; top:-1000px">
    </form>
</div>


